# Make sure that changes made in this file are compatible with the
# changes in the puppet manifest of the ocf module. If this file has
# to change twice (once from that module and once from this template),
# then the puppet agent on the puppet master will restart twice and
# send somewhat cryptic errors intermittently. Not a big deal, but
# a little bit annoying.

[main]

hiera_config = <%= @puppet_environmentpath %>/<%= @environment %>/hiera.yaml

[agent]

environment = <%= @environment %>
usecacheonfailure = false

[master]

vardir  = /opt/puppetlabs/server/data/puppetserver
logdir  = /var/log/puppetlabs/puppetserver
rundir  = /var/run/puppetlabs/puppetserver
pidfile = /var/run/puppetlabs/puppetserver/puppetserver.pid
codedir = /etc/puppetlabs/code

# Use custom LDAP external node classifer (ENC)
node_terminus = exec
external_nodes = /opt/share/puppet/ldap-enc

# log and mail reports from failed clients
reports = log, tagmail
