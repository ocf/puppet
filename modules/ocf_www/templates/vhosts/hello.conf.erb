<VirtualHost *:443>
    ServerName hello.ocf.berkeley.edu
    ServerAdmin help@ocf.berkeley.edu

    DocumentRoot /srv/sites/hello

    SSLEngine on
    SSLCertificateFile /etc/ssl/private/<%= @fqdn %>.crt
    SSLCertificateKeyFile /etc/ssl/private/<%= @fqdn %>.key
    SSLCertificateChainFile /etc/ssl/certs/incommon-intermediate.crt
    Include ssl-common.conf

    CustomLog ${APACHE_LOG_DIR}/ssl_access.log combined
    Header set Strict-Transport-Security "max-age=31536000"
</VirtualHost>

# redirect staff.o.b.e -> hello.o.b.e
<VirtualHost *:443>
    ServerName staff.ocf.berkeley.edu
    ServerAdmin help@ocf.berkeley.edu

    SSLEngine on
    SSLCertificateFile /etc/ssl/private/<%= @fqdn %>.crt
    SSLCertificateKeyFile /etc/ssl/private/<%= @fqdn %>.key
    SSLCertificateChainFile /etc/ssl/certs/incommon-intermediate.crt
    Include ssl-common.conf

    Redirect / https://hello.ocf.berkeley.edu/
</VirtualHost>

<VirtualHost *:80>
    ServerName hello.ocf.berkeley.edu
    ServerAlias hello staff staff.ocf.berkeley.edu hello.ocf.io hello.ocf.sexy

    Redirect / https://hello.ocf.berkeley.edu/
</VirtualHost>

<Directory /srv/sites/hello/.git>
    Order deny,allow
    Deny from all
</Directory>
<Directory /srv/sites/hello/.sass-cache>
    Order deny,allow
    Deny from all
</Directory>
